<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <h1>Checkout</h1>

  <!-- Checkout Form -->
  <form id="checkout-form" name="checkout">
    <fieldset>
      <legend>Customer Information</legend>
      <label>First Name: <input type="text" name="fname" required></label>
      <label>Last Name: <input type="text" name="lname" required></label>
      <label>Street Address: <input type="text" name="street" required></label>
      <label>City: <input type="text" name="city" required></label>
      <label>State: <input type="text" name="state" required></label>
      <label>Zip Code: <input type="text" name="zip" required></label>
    </fieldset>

    <fieldset>
      <legend>Payment Information</legend>
      <label>Card Number: <input type="text" name="cardNumber" required value="1234123412341234"></label>
      <label>Expiration Date: <input type="text" name="expiration" required value="12/26"></label>
      <label>Security Code: <input type="text" name="code" required value="123"></label>
    </fieldset>

    <button type="submit">Place Order</button>
  </form>

  <!-- Order Summary Display -->
  <fieldset class="order-summary">
    <legend>Order Summary</legend>
    <ul>
      <li>
        <label>Item Subtotal:</label>
        <p class="subtotal">$0.00</p>
      </li>
      <li>
        <label>Shipping Estimate:</label>
        <p class="shipping">$0.00</p>
      </li>
      <li>
        <label>Tax:</label>
        <p class="tax">$0.00</p>
      </li>
      <li>
        <label><strong>Order Total:</strong></label>
        <p class="order-total">$0.00</p>
      </li>
    </ul>
  </fieldset>

  <!-- Script to process checkout -->
  <script type="module">
    import CheckoutProcess from "../js/CheckoutProcess.mjs"; // adjust path if needed

    const checkout = new CheckoutProcess("so-cart", ".order-summary");
    checkout.displayOrderSummary();

    document.getElementById("checkout-form").addEventListener("submit", (e) => {
      e.preventDefault();
      checkout.checkout(e.target);
    });
  </script>
</body>
</html>